<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="/mystyle.css" rel="stylesheet" />
    <script
    src="https://code.jquery.com/jquery-3.5.1.js"
    integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"
  ></script>
</head>
<body>
    <header>
        <div class="mytitle">
            <h3>반려동물 이야기</h3>
        </div>
    </header>
    <main>
        <div class="titleBtns">
            <button type="button"
            class="writePage"
            onclick="window.location.href = '/postWrite.html'">게시글 작성</button>
            <button type="button"
            class="printPosts"
            onclick="printPosts()">전체 페이지 조회</button>
            <button type="button"
            class="homeBtn"
            onclick="homeBack()">메인페이지 이동</button>
        </div>
        <div class="modal">
            <div class="form">
              <div>
                <div class="input">
                  <label for="email">email</label>
                  <input id="email" class="modal-input" />
                </div>
                <div class="input">
                  <label for="name">이름</label>
                  <input id="name" class="modal-input" />
                </div>
                <div class="input">
                  <label for="pwd">비밀번호</label>
                  <input id="pwd" class="modal-input" type="password" />
                </div>               
                <div class="input">
                    <label for="petName">반려동물명</label>
                    <input id="petName" class="modal-input" />
                  </div>
                <div class="textarea">
                  <label for="onLiner">한마디</label>
                  <textarea id="onLiner"></textarea>
                </div> 
                <div class="input">
                    <label for="imageUrl">사진 url</label>
                    <textarea id="imageUrl"></textarea>
                  </div>
              </div>
              <div class="input" id="afterPwd1">
                <label for="afterPwd">변경할 비밀번호</label>
                <input id="afterPwd" class="modal-input" type="password" />
              </div> 
              <div class="input" id="confirmPwd1">
                <label for="confirmPwd">비밀번호 확인</label>
                <input id="confirmPwd" class="modal-input" type="password" />
              </div> 
              <button class="passwordChangeBtn" onclick="passwordChange()">비밀번호 변경</button>
              <button class="modal-btn" onclick="userInfoEditBtn(userEmail,function(){$('.modal').modal('hide');})">수정</button>
              <button class="modal-btn" id="close" onclick="close()">닫기</button>
            </div>
        </div>
        <div class="firstBox">
            <div class="userInfoBox">           
                <div class="loginBox" id="loginBox">
                    <div>
                        <div class="imageBox">
                            <img>
                        </div>
                        <div class="userInfo">
                            <p>

                            </p>
                        </div>
                    </div>
                    <div class="btnBox">
                        <button class="userInfoBtn" onclick="userInfoBtn()">회원정보 수정</button>
                        <button class="logoutBtn">로그아웃</button>
                    </div>
                </div>
            </div>
            
            <div class="postBox">
                <div>
                    <label>확인용</label>
                </div>
                <div>
                    <label>확인용</label>
                </div>
                <div>
                    <label>확인용</label>
                </div>
                <div>
                    <label>확인용</label>
                </div>
            </div>
        </div>
        <div class="postImgBox">            
            <div class="postBottomBox">
                <div class="imgBox">
                </div>
                <label>확인용</label>
            </div>   
            <div class="postBottomBox">
                <div class="imgBox">
                </div>
                <label>확인용</label>
            </div>   
            <div class="postBottomBox">
                <div class="imgBox">
                </div>
                <label>확인용</label>
            </div>
        </div>
    </main>
    <footer>

    </footer>
    <script src="api.js" type="module"></script>
    <script> 
            //모달 창 열기
            function userInfoBtn(){
                if($('.modal').css("display") == "none"){
                    $('.modal').show();
                }
            }
            function close(){
                if($('.modal').css("display") != "none"){
                    $('.modal2').hide();
                }
            }
        function passwordChange(){
            const userEmail = localStorage.getItem("email");
    
            if($('#afterPwd1').css("display") == "none"){
                $('#afterPwd1').show();
                $('#confirmPwd1').show();

            }else {
                $("#afterPwd1").hide();
                $('#confirmPwd1').hide();
            }
        }

    $(document).ready(function () {
        passwordChange();
        function getPosts(posts){
            for (let i = 0; i < posts.length; i++) {
                post_list(posts[i]);
            }
        };
    })
    function getPosts(posts){
        for (let i = 0; i < posts.length; i++) {
            post_list(posts[i]);
        }
    }
    function post_list(item) {
        let htmlTemp = `<div>
                    <label>${item['title']}</label>
                    <p>${item['content']}</p>
                </div>`
        $(".postBox").append(htmlTemp);
      }
    </script>
</body>
</html>